webpackJsonp([1],{0:function(t,a,o){o("5W1q"),o("Jmt5"),o("K3J8"),t.exports=o("NHnr")},"3l+r":function(t,a){},"5W1q":function(t,a){},BEf3:function(t,a){},G1GC:function(t,a){},Jmt5:function(t,a){},NHnr:function(t,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=o("woOf"),d=o.n(e),r=o("7+uW"),c={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var u=o("VU/8")({name:"Products",data:function(){return{}}},c,!1,function(t){o("gmBh")},"data-v-2a8e972a",null).exports,i=o("Sazm"),s=o.n(i),n=(o("3VHS"),s.a.initializeApp({apiKey:"AIzaSyDQs5-qOdPcKR5XlqVHdMi0g3DWEvkoAtU",authDomain:"vuejs-product-app.firebaseapp.com",databaseURL:"https://vuejs-product-app.firebaseio.com",projectId:"vuejs-product-app",storageBucket:"vuejs-product-app.appspot.com",messagingSenderId:"496448907799"}).firestore()),p=o("mtWM"),l=o.n(p),_={name:"Products",data:function(){return{search:"",editId:"",productData:{id:"",product_id:"",product_date:"",product_enddate:"",product_status:"",product_object:"",product_name:"",product_price:""},editProductData:{id:"",product_id:"",product_date:"",product_enddate:"",product_status:"",product_object:"",product_name:"",product_price:""},products:[],blogs:[]}},created:function(){this.getProducts()},computed:{filteredProduct:function(){var t=this;return this.products.fliter(function(a){return a.title.match(t.search)})},sortedProducts:function(){return this.products.slice().sort(function(t,a){return t.product_id-a.product_id})}},methods:{getProducts:function(){var t=this;l.a.get("http://localhost:8081/product").then(function(a){t.products=a.data,console.log(a.data)})},addproduct:function(){var t=this;return!!this.productData.product_enddate&&(!!this.productData.product_name&&void l.a.post("http://localhost:8081/create",{product_id:this.productData.product_id,product_date:this.productData.product_date,product_enddate:this.productData.product_enddate,product_status:this.productData.product_status,product_object:this.productData.product_object,product_name:this.productData.product_name,product_price:this.productData.product_price}).then(function(a){t.productData.id="",t.productData.product_id="",t.productData.product_date="",t.productData.product_enddate="",t.productData.product_status="",t.productData.product_object="",t.productData.product_name="",t.productData.product_price="",t.getProducts(a),t.products.push(a.data),console.log("success")}))},onSubmit:function(){console.log(this.productData.product_status),n.collection("products").add(this.productData).then(this.getProducts),this.productData.id="",this.productData.product_id="",this.productData.product_date="",this.productData.product_enddate="",this.productData.product_status="",this.productData.product_object="",this.productData.product_name="",this.productData.product_price=""},onDelete:function(t){var a=this;l.a.delete("http://localhost:8081/delete/"+t).then(function(t){a.getProducts(t),a.products.push(t.data),console.log("deleted")})},onEdit:function(t){this.editId=t.id,this.editProductData.product_id=t.product_id,this.editProductData.product_date=t.product_date,this.editProductData.product_enddate=t.product_enddate,this.editProductData.product_object=t.product_object,this.editProductData.product_name=t.product_name,this.editProductData.product_price=t.product_price,this.editProductData.product_status=t.product_status},onCancel:function(){this.editId="",this.editProductData.product_id="",this.editProductData.product_date="",this.editProductData.product_enddate="",this.editProductData.product_status="",this.editProductData.product_object="",this.editProductData.product_name="",this.editProductData.product_price=""},onEditSubmit:function(t){var a=this;l.a.put("http://localhost:8081/update/"+t,{product_id:this.editProductData.product_id,product_date:this.editProductData.product_date,product_enddate:this.editProductData.product_enddate,product_status:this.editProductData.product_status,product_object:this.editProductData.product_object,product_name:this.editProductData.product_name,product_price:this.editProductData.product_price,id:t}).then(function(t){a.getProducts(t),a.products.push(t.data),console.log("updated"),a.editId="",a.editProductData.product_id="",a.editProductData.product_date="",a.editProductData.product_enddate="",a.editProductData.product_status="",a.editProductData.product_object="",a.editProductData.product_name="",a.editProductData.product_price=""}).catch(function(t){console.log(t)})},changeStatus:function(t){var a=this;l.a.put("http://localhost:8081/status/"+t,{product_status:this.productData.product_status,id:t}).then(function(t){a.getProducts(t),a.products.push(t.data),console.log("status_updated")}).catch(function(t){console.log(t)})},changeTwice:function(t){var a=this;l.a.put("http://localhost:8081/status2/"+t,{product_status:this.productData.product_status,id:t}).then(function(t){a.getProducts(t),a.products.push(t.data),console.log("status_updated")}).catch(function(t){console.log(t)})}}},v={render:function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"products"},[o("h3",[t._v("未來視覺實驗室記帳系統")]),t._v(" "),o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[t._v("\n      新增項目\n    ")]),t._v(" "),o("div",{staticClass:"card-body"},[o("form",{staticClass:"form-inline",on:{submit:function(a){return a.preventDefault(),t.onSubmit(a)}}},[o("div",{staticClass:"form-group"},[o("label",[t._v("預算編號:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productData.product_id,expression:"productData.product_id"}],staticClass:"form-control ml-sm-2 mr-sm-4 my-2",attrs:{type:"text",required:""},domProps:{value:t.productData.product_id},on:{input:function(a){a.target.composing||t.$set(t.productData,"product_id",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",[t._v("申請日期:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productData.product_date,expression:"productData.product_date"}],staticClass:"form-control ml-sm-2 mr-sm-4 my-2",attrs:{type:"text",required:""},domProps:{value:t.productData.product_date},on:{input:function(a){a.target.composing||t.$set(t.productData,"product_date",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",[t._v("核銷日期:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productData.product_enddate,expression:"productData.product_enddate"}],staticClass:"form-control ml-sm-2 mr-sm-4 my-2",attrs:{type:"text",required:""},domProps:{value:t.productData.product_enddate},on:{input:function(a){a.target.composing||t.$set(t.productData,"product_enddate",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",[t._v("項目:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productData.product_object,expression:"productData.product_object"}],staticClass:"form-control ml-sm-2 mr-sm-4 my-2",attrs:{type:"text",required:""},domProps:{value:t.productData.product_object},on:{input:function(a){a.target.composing||t.$set(t.productData,"product_object",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",[t._v("姓名:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productData.product_name,expression:"productData.product_name"}],staticClass:"form-control ml-sm-2 mr-sm-4 my-2",attrs:{type:"text",required:""},domProps:{value:t.productData.product_name},on:{input:function(a){a.target.composing||t.$set(t.productData,"product_name",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",[t._v("價錢:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productData.product_price,expression:"productData.product_price"}],staticClass:"form-control ml-sm-2 mr-sm-4 my-2",attrs:{type:"text",required:""},domProps:{value:t.productData.product_price},on:{input:function(a){a.target.composing||t.$set(t.productData,"product_price",a.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.productData.product_status,expression:"productData.product_status"}],attrs:{id:"dropdown"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.productData,"product_status",a.target.multiple?o:o[0])}}},[o("option",{attrs:{value:""}},[t._v("請選擇狀態")]),t._v(" "),o("option",{attrs:{value:"申請中"}},[t._v("申請中")]),t._v(" "),o("option",{attrs:{value:"已付款"}},[t._v("已付款")])])]),t._v(" "),o("div",{staticClass:"ml-auto text-right"},[o("button",{staticClass:"btn btn-primary my-2",attrs:{type:"submit"},on:{click:function(a){t.addproduct()}}},[t._v("新增")])])])])]),t._v(" "),o("div",{staticClass:"card mt-5"},[o("div",{staticClass:"card-header d-flex"},[o("div",{staticClass:"list-title"},[t._v("核銷清單")]),t._v(" "),o("div",{staticClass:"wrap d-flex"},[o("div",{staticStyle:{"flex-direction":"row","justify-content":"center"}},[o("button",{staticClass:"btn btn-primary my-2",attrs:{id:"btnSubmit"},on:{click:function(a){t.changeStatus(t.blogs)}}},[t._v("已核銷")]),t._v(" "),o("button",{staticClass:"btn btn-primary my-2",attrs:{id:"btnSubmit"},on:{click:function(a){t.changeTwice(t.blogs)}}},[t._v("申請中")])])])])]),t._v(" "),o("div",{staticClass:"card-body"},[o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table"},[t._m(0),t._v(" "),o("tbody",{staticStyle:{"text-align":"center"},attrs:{id:"myBody"}},t._l(t.sortedProducts,function(a){return o("tr",{key:a.id},[t.editId==a.id?[o("div",{attrs:{id:"checkboxes"}},[o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.blogs,expression:"blogs"}],attrs:{type:"checkbox",id:a.id},domProps:{value:a.id,checked:Array.isArray(t.blogs)?t._i(t.blogs,a.id)>-1:t.blogs},on:{change:function(o){var e=t.blogs,d=o.target,r=!!d.checked;if(Array.isArray(e)){var c=a.id,u=t._i(e,c);d.checked?u<0&&(t.blogs=e.concat([c])):u>-1&&(t.blogs=e.slice(0,u).concat(e.slice(u+1)))}else t.blogs=r}}})])]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editProductData.product_id,expression:"editProductData.product_id"}],attrs:{type:"text"},domProps:{value:t.editProductData.product_id},on:{input:function(a){a.target.composing||t.$set(t.editProductData,"product_id",a.target.value)}}})]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editProductData.product_date,expression:"editProductData.product_date"}],attrs:{type:"text"},domProps:{value:t.editProductData.product_date},on:{input:function(a){a.target.composing||t.$set(t.editProductData,"product_date",a.target.value)}}})]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editProductData.product_enddate,expression:"editProductData.product_enddate"}],attrs:{type:"text"},domProps:{value:t.editProductData.product_enddate},on:{input:function(a){a.target.composing||t.$set(t.editProductData,"product_enddate",a.target.value)}}})]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editProductData.product_status,expression:"editProductData.product_status"}],attrs:{type:"text"},domProps:{value:t.editProductData.product_status},on:{input:function(a){a.target.composing||t.$set(t.editProductData,"product_status",a.target.value)}}})]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editProductData.product_object,expression:"editProductData.product_object"}],attrs:{type:"text"},domProps:{value:t.editProductData.product_object},on:{input:function(a){a.target.composing||t.$set(t.editProductData,"product_object",a.target.value)}}})]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editProductData.product_name,expression:"editProductData.product_name"}],attrs:{type:"text"},domProps:{value:t.editProductData.product_name},on:{input:function(a){a.target.composing||t.$set(t.editProductData,"product_name",a.target.value)}}})]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editProductData.product_price,expression:"editProductData.product_price"}],attrs:{type:"text"},domProps:{value:t.editProductData.product_price},on:{input:function(a){a.target.composing||t.$set(t.editProductData,"product_price",a.target.value)}}})]),t._v(" "),o("td",[o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-check",on:{click:function(o){t.onEditSubmit(a.id)}}})]),t._v(" "),o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-ban",on:{click:t.onCancel}})])])]:[o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.blogs,expression:"blogs"}],attrs:{type:"checkbox",id:a.id},domProps:{value:a.id,checked:Array.isArray(t.blogs)?t._i(t.blogs,a.id)>-1:t.blogs},on:{change:function(o){var e=t.blogs,d=o.target,r=!!d.checked;if(Array.isArray(e)){var c=a.id,u=t._i(e,c);d.checked?u<0&&(t.blogs=e.concat([c])):u>-1&&(t.blogs=e.slice(0,u).concat(e.slice(u+1)))}else t.blogs=r}}})]),t._v(" "),o("td",[t._v("\n                  "+t._s(a.product_id)+"\n                ")]),t._v(" "),o("td",[t._v("\n                  "+t._s(a.product_date)+" \n                ")]),t._v(" "),o("td",[t._v("\n                  "+t._s(a.product_enddate)+" \n                ")]),t._v(" "),o("td",[t._v("\n                   "+t._s(a.product_status)+" \n                ")]),t._v(" "),o("td",[t._v("\n                  "+t._s(a.product_object)+"\n                ")]),t._v(" "),o("td",[t._v("\n                  "+t._s(a.product_name)+"\n                ")]),t._v(" "),o("td",[t._v("\n                  $"+t._s(a.product_price)+"\n                ")]),t._v(" "),o("td",[o("a",{staticClass:"icon",attrs:{href:"#"}},[o("i",{staticClass:"fa fa-trash",on:{click:function(o){t.onDelete(a.id)}}})]),t._v(" "),o("a",{staticClass:"icon",attrs:{href:"#"}},[o("i",{staticClass:"fa fa-pencil",on:{click:function(o){t.onEdit(a)}}})])])]],2)}))])])])])},staticRenderFns:[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",{staticStyle:{"text-align":"center"}},[o("tr",[o("th"),t._v(" "),o("th",{attrs:{scope:"col"}},[t._v("\n                預算編號\n              ")]),t._v(" "),o("th",[t._v("\n                申請日期\n              ")]),t._v(" "),o("th",[t._v("\n                核銷日期\n              ")]),t._v(" "),o("th",[t._v("\n                狀態\n              ")]),t._v(" "),o("th",[t._v("\n                項目\n              ")]),t._v(" "),o("th",[t._v("\n                姓名\n              ")]),t._v(" "),o("th",[t._v("\n                金額\n              ")]),t._v(" "),o("th",[t._v("\n                刪除/編輯\n              ")])])])}]};var m=o("VU/8")(_,v,!1,function(t){o("G1GC")},"data-v-67dbce7e",null).exports,h={name:"App",components:{Navbar:u,Products:m}},f={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("Navbar"),this._v(" "),a("div",{staticClass:"container"},[a("router-view")],1)],1)},staticRenderFns:[]};var D=o("VU/8")(h,f,!1,function(t){o("BEf3")},null,null).exports,g=o("/ocq"),P={name:"ProductPage",data:function(){return{productId:"",productName:"",productPrice:"",loaded:!1}},beforeCreate:function(){var t=this;n.collection("products").doc(this.$route.params.id).get().then(function(a){a.exists?(console.log("Document data:",a.data().product_id),t.productId=a.data().product_id,t.productName=a.data().product_name,t.productPrice=a.data().product_price,t.loaded=!0):console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})}},b={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var y=o("VU/8")(P,b,!1,function(t){o("3l+r")},"data-v-509e09f8",null).exports;r.a.use(g.a);var x=new g.a({routes:[{path:"/",name:"Products",component:m},{path:"/product/:id",name:"ProductPage",component:y}]}),C=o("7t+N"),j=o.n(C),w=o("K3J8"),N=o.n(w);o("Jmt5");r.a.config.productionTip=!1,d()(window,{$:j.a,jQuery:j.a}),new r.a({el:"#app",router:x,jQuery:j.a,bootstrap:N.a,components:{App:D},template:"<App/>"})},gmBh:function(t,a){}},[0]);
//# sourceMappingURL=app.60ab6f6bcce2cab3ded4.js.map